<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입 - Private Game Platform</title>
  <link rel="stylesheet" href="common.css">
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 40px 20px;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
    }

    .signup-container {
      width: 100%;
      max-width: 500px;
    }

    .signup-box {
      background-color: var(--bg-secondary);
      border-radius: var(--radius-xl);
      padding: var(--spacing-xxl);
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border-color);
      animation: fadeIn 0.5s ease;
    }

    .header-section {
      text-align: center;
      margin-bottom: var(--spacing-xl);
    }

    .header-section h1 {
      font-size: 28px;
      margin-bottom: var(--spacing-sm);
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-section p {
      color: var(--text-muted);
      font-size: 14px;
      margin-bottom: 0;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-md);
    }

    .password-requirements {
      background-color: var(--bg-tertiary);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-top: var(--spacing-sm);
      font-size: 12px;
    }

    .requirement {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      color: var(--text-muted);
      margin-bottom: var(--spacing-xs);
    }

    .requirement:last-child {
      margin-bottom: 0;
    }

    .requirement.valid {
      color: var(--accent-primary);
    }

    .requirement .icon {
      width: 16px;
      height: 16px;
      display: inline-block;
    }

    .btn-signup {
      width: 100%;
      height: 50px;
      font-size: 18px;
      margin-top: var(--spacing-lg);
    }

    .terms {
      margin-top: var(--spacing-md);
      padding: var(--spacing-md);
      background-color: var(--bg-tertiary);
      border-radius: var(--radius-md);
      font-size: 13px;
      color: var(--text-secondary);
    }

    .terms label {
      display: flex;
      align-items: flex-start;
      gap: var(--spacing-sm);
      cursor: pointer;
      margin-bottom: var(--spacing-sm);
    }

    .terms label:last-child {
      margin-bottom: 0;
    }

    .terms input[type="checkbox"] {
      margin-top: 2px;
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: var(--accent-primary);
      flex-shrink: 0;
    }

    .login-link {
      text-align: center;
      margin-top: var(--spacing-lg);
      color: var(--text-secondary);
      font-size: 14px;
    }

    .login-link a {
      color: var(--accent-primary);
      text-decoration: none;
      font-weight: 600;
      transition: var(--transition-fast);
    }

    .login-link a:hover {
      color: var(--accent-secondary);
      text-decoration: underline;
    }

    .success-message {
      background-color: rgba(0, 255, 136, 0.1);
      border: 1px solid var(--accent-primary);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      text-align: center;
      display: none;
    }

    .success-message.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .success-message h2 {
      color: var(--accent-primary);
      margin-bottom: var(--spacing-md);
    }

    .success-message p {
      color: var(--text-secondary);
      margin-bottom: var(--spacing-lg);
    }

    @media (max-width: 767px) {
      .signup-box {
        padding: var(--spacing-lg);
      }

      .form-row {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="signup-container">
    <div class="signup-box">
      <!-- 헤더 -->
      <div class="header-section">
        <h1>회원가입</h1>
        <p>관리자 승인 후 서비스를 이용하실 수 있습니다</p>
      </div>

      <!-- 회원가입 폼 -->
      <form id="signupForm">
        <div class="form-group">
          <label class="form-label" for="userId">아이디 *</label>
          <input 
            type="text" 
            id="userId" 
            class="form-input" 
            placeholder="4-20자, 영문/숫자 조합"
            required
            minlength="4"
            maxlength="20"
          >
          <div class="form-error" id="userIdError">아이디는 4-20자 영문/숫자 조합이어야 합니다.</div>
        </div>

        <div class="form-group">
          <label class="form-label" for="password">비밀번호 *</label>
          <input 
            type="password" 
            id="password" 
            class="form-input" 
            placeholder="8자 이상, 영문/숫자/특수문자"
            required
            minlength="8"
          >
          <div class="password-requirements">
            <div class="requirement" id="req-length">
              <span class="icon">○</span>
              <span>8자 이상</span>
            </div>
            <div class="requirement" id="req-letter">
              <span class="icon">○</span>
              <span>영문 포함</span>
            </div>
            <div class="requirement" id="req-number">
              <span class="icon">○</span>
              <span>숫자 포함</span>
            </div>
            <div class="requirement" id="req-special">
              <span class="icon">○</span>
              <span>특수문자 포함</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="passwordConfirm">비밀번호 확인 *</label>
          <input 
            type="password" 
            id="passwordConfirm" 
            class="form-input" 
            placeholder="비밀번호를 다시 입력하세요"
            required
          >
          <div class="form-error" id="passwordConfirmError">비밀번호가 일치하지 않습니다.</div>
        </div>

        <div class="form-group">
          <label class="form-label" for="name">이름 *</label>
          <input 
            type="text" 
            id="name" 
            class="form-input" 
            placeholder="실명을 입력하세요"
            required
          >
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label" for="email">이메일 *</label>
            <input 
              type="email" 
              id="email" 
              class="form-input" 
              placeholder="example@email.com"
              required
            >
          </div>

          <div class="form-group">
            <label class="form-label" for="phone">전화번호 *</label>
            <input 
              type="tel" 
              id="phone" 
              class="form-input" 
              placeholder="010-1234-5678"
              required
            >
          </div>
        </div>

        <!-- 약관 동의 -->
        <div class="terms">
          <label>
            <input type="checkbox" id="agreeAll">
            <span><strong>전체 동의</strong></span>
          </label>
          <label>
            <input type="checkbox" class="agree-item" id="agreeTerms" required>
            <span>이용약관 동의 (필수)</span>
          </label>
          <label>
            <input type="checkbox" class="agree-item" id="agreePrivacy" required>
            <span>개인정보 처리방침 동의 (필수)</span>
          </label>
          <label>
            <input type="checkbox" class="agree-item" id="agreeAge" required>
            <span>만 19세 이상입니다 (필수)</span>
          </label>
        </div>

        <button type="submit" class="btn btn-primary btn-signup">가입 신청</button>
      </form>

      <!-- 성공 메시지 (숨김 상태) -->
      <div class="success-message" id="successMessage">
        <h2>✅ 가입 신청 완료!</h2>
        <p>관리자 승인 후 서비스를 이용하실 수 있습니다.<br>승인까지 최대 24시간이 소요될 수 있습니다.</p>
        <a href="login.html" class="btn btn-secondary">로그인 페이지로</a>
      </div>

      <div class="login-link">
        이미 계정이 있으신가요? <a href="login.html">로그인</a>
      </div>
    </div>
  </div>

  <script>
    const signupForm = document.getElementById('signupForm');
    const password = document.getElementById('password');
    const passwordConfirm = document.getElementById('passwordConfirm');
    const agreeAll = document.getElementById('agreeAll');
    const agreeItems = document.querySelectorAll('.agree-item');
    const successMessage = document.getElementById('successMessage');

    // 비밀번호 유효성 검사
    password.addEventListener('input', function() {
      const value = this.value;
      
      // 길이
      const reqLength = document.getElementById('req-length');
      if (value.length >= 8) {
        reqLength.classList.add('valid');
        reqLength.querySelector('.icon').textContent = '✓';
      } else {
        reqLength.classList.remove('valid');
        reqLength.querySelector('.icon').textContent = '○';
      }
      
      // 영문
      const reqLetter = document.getElementById('req-letter');
      if (/[a-zA-Z]/.test(value)) {
        reqLetter.classList.add('valid');
        reqLetter.querySelector('.icon').textContent = '✓';
      } else {
        reqLetter.classList.remove('valid');
        reqLetter.querySelector('.icon').textContent = '○';
      }
      
      // 숫자
      const reqNumber = document.getElementById('req-number');
      if (/[0-9]/.test(value)) {
        reqNumber.classList.add('valid');
        reqNumber.querySelector('.icon').textContent = '✓';
      } else {
        reqNumber.classList.remove('valid');
        reqNumber.querySelector('.icon').textContent = '○';
      }
      
      // 특수문자
      const reqSpecial = document.getElementById('req-special');
      if (/[!@#$%^&*]/.test(value)) {
        reqSpecial.classList.add('valid');
        reqSpecial.querySelector('.icon').textContent = '✓';
      } else {
        reqSpecial.classList.remove('valid');
        reqSpecial.querySelector('.icon').textContent = '○';
      }
    });

    // 전체 동의
    agreeAll.addEventListener('change', function() {
      agreeItems.forEach(item => {
        item.checked = this.checked;
      });
    });

    // 개별 동의 체크 시 전체 동의 상태 업데이트
    agreeItems.forEach(item => {
      item.addEventListener('change', function() {
        agreeAll.checked = Array.from(agreeItems).every(i => i.checked);
      });
    });

    // 폼 제출
    signupForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = {
        userId: document.getElementById('userId').value,
        password: document.getElementById('password').value,
        passwordConfirm: document.getElementById('passwordConfirm').value,
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value
      };

      // 비밀번호 확인
      if (formData.password !== formData.passwordConfirm) {
        document.getElementById('passwordConfirmError').classList.add('active');
        return;
      }

      // 실제로는 API 호출
      console.log('회원가입 데이터:', formData);
      
      // 성공 메시지 표시
      signupForm.style.display = 'none';
      document.querySelector('.login-link').style.display = 'none';
      successMessage.classList.add('active');
    });
  </script>
</body>
</html>
